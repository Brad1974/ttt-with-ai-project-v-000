#!/usr/bin/env ruby

require_relative '../config/environment'
require_relative '../lib/game.rb'
require_relative '../lib/players/computer.rb'
require_relative '../lib/players/human.rb'
require_relative '../lib/board.rb'

## methods for CLI ##

def player_options
  puts "Welcome to OsTrItCh-TAC-TOE!"

  sleep 0

  puts "                                  (oo)
                                      V
                                      ||
                                      ||
                                      ||,-v-,_
                                      ||) |   /
                                  _,''   '-,-<
                                 / :       /  ) 
                                ( :       (   /,
                                 )_;       ) __)
                                    ),_ ,   |
                                    |  / )  |
                                    | /   ) |
                                    ()     ()
                                    //     ||
                                   //      ||
                                  //       ||
                    -- '' -'-'  ,//        /)   -- '' -'-'   "

  puts "Will you be playing with 0 players (2 ostritches duking it out), 1 player vs. against an ostritch, or 2 human players? Type in a number to continue."
    input = gets 

  puts "Player 1 is X and Player 2 is O!"

  sleep 1

  puts "Before you begin please remember while playing to select a grid number corresponding to the chart"

  puts " 1 | 2 | 3 "
  puts "-----------" 
  puts " 4 | 5 | 6 "
  puts "-----------"
  puts " 7 | 8 | 9 "

  sleep 3
    
    if input.chomp.strip == "0" || "1"
      computer_difficulty

    elsif 
        puts "Player 1 V. Player 2!"
        game = Game.new(player_1 = Player::Human.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
    end
end

def computer_difficulty
  puts "Is this 1. A full on Ostritch game or 2. A game of wits against an ostritch?"
    input = gets
    if input.chomp.strip == "1"
      puts "Ostrich Battle Royale!"
      game = Game.new(player_1 = Player::Computer_easy.new("X"), player_2 = Player::Computer_easy.new("O"), board = Board.new)
      game.play
      puts "Ostriches are not smart creatures."

    elsif input.chomp.strip == "2"
      puts "At what difficulty, would you like to play? 1. Easy, 2. Medium or 3. Hard?"
      input = gets
      puts "Ostrich V. Player 2!"
      if input == "1"
        game = Game.new(computer = Player::Computer_easy.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
      elsif input == "2"
        game = Game.new(computer = Player::Computer_medium.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
      elsif input == "3"
        game = Game.new(computer = Player::Computer_hard.new("X"), player_2 = Player::Human.new("O"), board = Board.new)
        game.play
      end
  end
end


## Beginning of CLI ##

player_options

puts "Would you like to play again?"
input = gets.strip

if input == "yes"

  player_options

elsif input == "no"
  puts "See you next time!"
else puts "See you next time!"
end

## End of CLI ##

